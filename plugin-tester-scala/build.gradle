plugins {
  id 'org.apache.pekko.grpc.gradle'
}

pekkoGrpc {
  serverPowerApis = true // This isn't default
}

repositories {
  mavenLocal()
}

def scalaFullVersion = "2.12.16"
def scalaVersion = org.gradle.util.VersionNumber.parse(scalaFullVersion)
def scalaBinaryVersion = "${scalaVersion.major}.${scalaVersion.minor}"

dependencies {
  // see https://github.com/apache/incubator-pekko-grpc/issues/22
  // implementation group: 'ch.megard', name: "akka-http-cors_${scalaBinaryVersion}", version: '1.1.3'
  implementation "org.scala-lang:scala-library:${scalaFullVersion}"
  testImplementation "org.apache.pekko:pekko-stream-testkit_${scalaBinaryVersion}:0.0.0+26599-83545a33-SNAPSHOT"
  testImplementation "org.scalatest:scalatest_${scalaBinaryVersion}:3.2.12"
  testImplementation "org.scalatestplus:junit-4-12_${scalaBinaryVersion}:3.2.2.0"
}

